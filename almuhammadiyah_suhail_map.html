<!DOCTYPE html>
<html>
<head>
    <title>Al-Muhammadiyah - suhail.ai Data (Limited)</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; font-family: Arial; }
        #map { width: 100%; height: 100vh; }
        .info {
            position: absolute; top: 10px; left: 50px; z-index: 1000;
            background: white; padding: 15px; border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3); max-width: 350px;
        }
        .warning { background: #fff3cd; padding: 10px; border-radius: 5px; margin-top: 10px; }
        .legend {
            background: white; padding: 10px; border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        .legend-item { display: flex; align-items: center; margin: 5px 0; }
        .legend-color { width: 20px; height: 20px; margin-right: 8px; border-radius: 50%; }
    </style>
</head>
<body>
    <div class="info">
        <h3>المحمدية - Al-Muhammadiyah</h3>
        <p><b>Source:</b> suhail.ai API</p>
        <p><b>Parcels found:</b> 6</p>
        <div class="warning">
            <b>⚠️ Limited Data!</b><br>
            suhail.ai API only provides TRANSACTION data (sales), 
            not full parcel inventory. Only parcels that have been 
            sold appear here.
        </div>
    </div>
    <div id="map"></div>
    <script>
        var map = L.map('map').setView([24.729078845941178, 46.644892009735294], 15);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap'
        }).addTo(map);
        
        // District boundary
        var boundary = {"type": "FeatureCollection", "features": [{"type": "Feature", "properties": {"district_id": "00100001063", "name_ar": "\u0627\u0644\u0645\u062d\u0645\u062f\u064a\u0629", "name_en": "Al Muhammadiyah", "code": "063"}, "geometry": {"type": "Polygon", "coordinates": [[[46.664033863999975, 24.727776758000005], [46.647132983000006, 24.720628449000003], [46.646852619000015, 24.720509847000017], [46.64486795099998, 24.72436442100002], [46.644762678999996, 24.724581743999977], [46.644652166000014, 24.72479688499999], [46.64453646800001, 24.725009741000008], [46.64441564100002, 24.725220205000028], [46.64428974399999, 24.72542817599998], [46.644158839, 24.725633550999987], [46.64396949899998, 24.725921648999986], [46.643773667999994, 24.726206104000028], [46.64357142799997, 24.72648679399998], [46.64336286700001, 24.72676359799999], [46.64314807400001, 24.727036397999996], [46.64292714099997, 24.727305076999983], [46.64270016400002, 24.727569518999985], [46.642467237999995, 24.727829611000004], [46.64222846400003, 24.728085240999974], [46.64198394499999, 24.728336300000024], [46.641733784999985, 24.728582680999978], [46.641478092, 24.72882427600001], [46.64121697500002, 24.729060984], [46.640950546, 24.72929270100002], [46.640579367999976, 24.729594667000015], [46.64021309100002, 24.729901585999983], [46.63399108200002, 24.735043623000024], [46.633667855, 24.735310834000018], [46.63393527400001, 24.735424088000002], [46.643570264000004, 24.739504137999972], [46.65556532699998, 24.74454646800001], [46.65571156599998, 24.744257514000026], [46.65984580000003, 24.736070375999986], [46.664033863999975, 24.727776758000005]]]}}]};
        L.geoJSON(boundary, {
            style: { color: '#ff0000', weight: 3, fillOpacity: 0.1 }
        }).addTo(map);
        
        // Parcels from suhail.ai
        var parcels = [{"lat": 24.738914, "lon": 46.64508, "type": "apartment"}, {"lat": 24.73019, "lon": 46.640883, "type": "villa"}, {"lat": 24.73826, "lon": 46.645413, "type": "apartment"}, {"lat": 24.733515, "lon": 46.649447, "type": "apartment"}, {"lat": 24.73809, "lon": 46.650713, "type": "villa"}, {"lat": 24.736617, "lon": 46.656561, "type": "villa"}];
        var colors = { 'villa': '#22c55e', 'apartment': '#3b82f6', 'commercial_land': '#f59e0b', 'other': '#6b7280' };
        
        parcels.forEach(function(p) {
            L.circleMarker([p.lat, p.lon], {
                radius: 10,
                fillColor: colors[p.type] || '#6b7280',
                color: '#fff',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>' + p.type + '</b><br>From suhail.ai');
        });
        
        // Legend
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function() {
            var div = L.DomUtil.create('div', 'legend');
            div.innerHTML = '<b>suhail.ai Parcels</b><br>' +
                '<div class="legend-item"><div class="legend-color" style="background:#22c55e"></div>Villa (3)</div>' +
                '<div class="legend-item"><div class="legend-color" style="background:#3b82f6"></div>Apartment (3)</div>' +
                '<div class="legend-item"><div class="legend-color" style="background:#ff0000;border-radius:0"></div>District Boundary</div>';
            return div;
        };
        legend.addTo(map);
        
        map.fitBounds(L.geoJSON(boundary).getBounds());
    </script>
</body>
</html>